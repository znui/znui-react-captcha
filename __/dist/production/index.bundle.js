!function(t,e){for(var a in e)t[a]=e[a]}(this,function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){t.exports={RandomCaptcha:a(1)}},function(t,e,a){var n=znui.React||a(2);function r(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}function o(t){var e,a="";for(e=0;e<t;e+=1)switch(Math.floor(3*Math.random())){case 0:a+=String.fromCharCode(48+Math.floor(10*Math.random()));break;case 1:a+=String.fromCharCode(65+Math.floor(26*Math.random()));break;case 2:a+=String.fromCharCode(97+Math.floor(26*Math.random()))}return a}t.exports=n.createClass({displayName:"RandomCaptcha",getDefaultProps:function(){return{placeholder:"请输入验证码",caseSensitive:!1,length:6,width:200}},getInitialState:function(){return{value:"",solution:o(this.props.length),checked:!1}},componentDidMount:function(){this.drawCaptcha()},refresh:function(){var t=this,e=o(this.props.length);this.setState({solution:e,input:""},(function(){return t.drawCaptcha()})),this.props.onRefresh&&this.props.onRefresh(e)},drawCaptcha:function(){var t=this.state.solution,e=this.canvas.width,a=this.canvas.height,n=this.canvas.getContext("2d");n.clearRect(0,0,e,a),n.font="".concat(r(30,40),"px serif"),n.textAlign="center",n.textBaseline="middle",n.fillText(t,e/2,a/2+3),n.strokeStyle="purple",n.beginPath(),n.moveTo(r(5,20),r(5,20)),n.lineTo(e-r(5,20),a-r(5,20)),n.stroke(),n.moveTo(r(15,30),r(15,30)),n.lineTo(e-r(15,30),a-r(15,30)),n.stroke(),n.moveTo(r(5,20),a-r(5,20)),n.lineTo(e-r(5,20),r(5,20)),n.stroke(),n.moveTo(r(15,30),a-r(15,30)),n.lineTo(e-r(15,30),r(15,30)),n.stroke(),n.moveTo(r(e/10,e/10+10),a-r(15,30)),n.lineTo(r(e/2,e/2+10),r(5,20)),n.stroke(),n.closePath()},playAudio:function(){if(this.state.solution){var t=new SpeechSynthesisUtterance(this.state.solution.toString().split("").join(" "));t.rate=1,t.lang="zh-cn",window.speechSynthesis.speak(t)}},__onInputChange:function(t){var e=t.target.value,a=this.state.solution,n=e.toString().toLowerCase()===a.toString().toLowerCase();this.props.caseSensitive&&(n=e.toString()===a.toString()),this.setState({value:e,checked:n}),t.value=t.checked=n,this.props.onChange&&this.props.onChange(t,this)},render:function(){var t=this;return n.createElement("div",{className:znui.react.classname("zr-random-captcha",this.props.className),style:this.props.style},n.createElement("div",{className:"rnc"},n.createElement("div",{className:"rnc-row"},n.createElement("canvas",{ref:function(e){return t.canvas=e},width:this.props.width,height:50,className:"rnc-canvas","data-testid":"captcha-canvas"}),n.createElement("div",{className:"rnc-column"},n.createElement("button",{type:"button","aria-label":"get new captcha",onClick:this.refresh,className:"rnc-button","data-testid":"captcha-refresh"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("g",{"data-name":"Layer 2"},n.createElement("g",{"data-name":"refresh"},n.createElement("rect",{width:"24",height:"24",opacity:"0"}),n.createElement("path",{d:"M20.3 13.43a1 1 0 0 0-1.25.65A7.14 7.14 0 0 1 12.18 19 7.1 7.1 0 0 1 5 12a7.1 7.1 0 0 1 7.18-7 7.26 7.26 0 0 1 4.65 1.67l-2.17-.36a1 1 0 0 0-1.15.83 1 1 0 0 0 .83 1.15l4.24.7h.17a1 1 0 0 0 .34-.06.33.33 0 0 0 .1-.06.78.78 0 0 0 .2-.11l.09-.11c0-.05.09-.09.13-.15s0-.1.05-.14a1.34 1.34 0 0 0 .07-.18l.75-4a1 1 0 0 0-2-.38l-.27 1.45A9.21 9.21 0 0 0 12.18 3 9.1 9.1 0 0 0 3 12a9.1 9.1 0 0 0 9.18 9A9.12 9.12 0 0 0 21 14.68a1 1 0 0 0-.7-1.25z"}))))),n.createElement("button",{type:"button","aria-label":"play audio",onClick:this.playAudio,className:"rnc-button","data-testid":"captcha-audio"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},n.createElement("g",{"data-name":"Layer 2"},n.createElement("g",{"data-name":"volume-up"},n.createElement("rect",{width:"24",height:"24",opacity:"0"}),n.createElement("path",{d:"M18.28 8.37a1 1 0 1 0-1.56 1.26 4 4 0 0 1 0 4.74A1 1 0 0 0 17.5 16a1 1 0 0 0 .78-.37 6 6 0 0 0 0-7.26z"}),n.createElement("path",{d:"M19.64 5.23a1 1 0 1 0-1.28 1.54A6.8 6.8 0 0 1 21 12a6.8 6.8 0 0 1-2.64 5.23 1 1 0 0 0-.13 1.41A1 1 0 0 0 19 19a1 1 0 0 0 .64-.23A8.75 8.75 0 0 0 23 12a8.75 8.75 0 0 0-3.36-6.77z"}),n.createElement("path",{d:"M15 3.12a1 1 0 0 0-1 0L7.52 7.57h-5a1 1 0 0 0-1 1v6.86a1 1 0 0 0 1 1h5l6.41 4.4a1.06 1.06 0 0 0 .57.17 1 1 0 0 0 1-1V4a1 1 0 0 0-.5-.88zm-1.47 15L8.4 14.6a1 1 0 0 0-.57-.17H3.5V9.57h4.33a1 1 0 0 0 .57-.17l5.1-3.5z"}))))))),n.createElement("input",{value:this.state.value,onChange:this.__onInputChange,placeholder:this.props.placeholder,className:"rnc-input","data-testid":"captcha-input"})))}})},function(t,e){!function(){t.exports=this.React}()}]));